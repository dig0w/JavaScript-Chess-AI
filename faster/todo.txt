hasLegalMoves has to be better
moveKeepsKingSafe has to be faster

Precomputed move masks (knight, king, sliding rays)